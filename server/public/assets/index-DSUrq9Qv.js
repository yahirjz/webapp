(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const u="http://localhost:3000",c={data:{message:""},listeners:[],init(){fetch(u+"/productos").then(e=>e.json()).then(e=>{this.setState(e)})},getState(){return this.data},setState(e){this.data=e;for(const r of this.listeners)r(this.data)},subscribe(e){this.listeners.push(e)}};function l(){const e=document.createElement("div");return e.innerHTML=`
   <h1 class="title"> Cargando...</h1>
   <form>
        <button type="submit">Comenzar</button>
   </form>
   `,c.subscribe(n=>{const s=e.querySelector(".title");s&&(s.textContent=n.message)}),e.querySelector("form")?.addEventListener("submit",n=>{n.preventDefault(),c.init()}),e}const a=[{path:"/",component:l}];function f(e){function r(n){console.log("El router recibi√≥ una nueva ruta",n);for(const s of a)if(s.path===n){const t=s.component();e.firstChild&&e.firstChild.remove(),e.appendChild(t)}}r(window.location.pathname)}(function(){const e=document.querySelector("#app");e&&f(e)})();
